---
import { Image } from "astro:assets"
import { getImageUrl } from "@lib/getImage"

const props = Astro.props.post

const image = getImageUrl(props.previewImage).url()

const monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ];

const date = new Date(props.date)
const day = date.getDate().toString().padStart(2, '0') 
const month = (date.getMonth()).toString()
const year = date.getFullYear().toString()

const formattedDate = `${day} ${monthNames[month]}, ${year}`
---

<a href=`/news/${props.slug.current}` class="py-8 relative flex flex-row items-center gap-20 tablet-sm:gap-10 md:flex-col md:items-start">
    <div class="aspect-[355/184] w-[355px] flex-none tablet-sm:w-72 md:w-full">
        <Image src={image} alt=`${props.blogTitle}` inferSize={true} />
    </div>

    <div class="flex flex-col gap-4 items-start">
        <h2 class="_32">{props.blogTitle}</h2>
        <div class="flex flex-row gap-2 items-center opacity-60">
            <div class="_18">{props.time} min read</div>
            <div class="aspect-square w-[5px] rounded-full bg-current"></div>
            <div class="_18">{formattedDate}</div>
        </div>
    </div>

    <div class="absolute bottom-0 left-0 right-0 h-px bg-current opacity-10"></div>
</a>